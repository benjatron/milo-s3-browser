"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),o=function e(o,i){return!(void 0===t[o]||t[o]===i)};if(t.opacity<1||o("zIndex","auto")||o("transform","none")||o("mixBlendMode","normal")||o("filter","none")||o("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1}function t(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function o(e){e&&e.blur&&e!==document.body&&e.blur()}function i(e,t){for(var o=0;o<e.length;++o)if(e[o]===t)return!0;return!1}function n(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function r(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t=!1,o=function(){t?this.downgradeModal():this.maybeHideModal(),t=!1}.bind(this),i,n=function n(r){if(r.target===e){var s="DOMNodeRemoved";t|=r.type.substr(0,s.length)===s,window.clearTimeout(i),i=window.setTimeout(o,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,n)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}var s=window.CustomEvent;s&&"object"!==(void 0===s?"undefined":_typeof(s))||(s=function e(t,o){o=o||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!!o.bubbles,!!o.cancelable,o.detail||null),i},s.prototype=window.Event.prototype),r.prototype={get dialog(){return this.dialog_},maybeHideModal:function e(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function e(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),a.dm.removeDialog(this))},setOpen:function e(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function e(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var o=document.createElement("div");this.dialog_.insertBefore(o,this.dialog_.firstChild),o.tabIndex=-1,o.focus(),this.dialog_.removeChild(o)}var i=document.createEvent("MouseEvents");i.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(i),t.stopPropagation()},focus_:function e(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var i=["button","input","keygen","select","textarea"],n=i.map(function(e){return e+":not([disabled])"});n.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(n.join(", "))}o(document.activeElement),t&&t.focus()},updateZIndex:function e(t,o){if(t<o)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=o},show:function e(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function t(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!a.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,a.needsCentering(this.dialog_)?(a.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function e(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var o=new s("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(o)}};var a={};if(a.reposition=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,o=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,o)+"px"},a.isInlinePositionSetByStylesheet=function(e){for(var t=0;t<document.styleSheets.length;++t){var o=document.styleSheets[t],n=null;try{n=o.cssRules}catch(e){}if(n)for(var r=0;r<n.length;++r){var s=n[r],a=null;try{a=document.querySelectorAll(s.selectorText)}catch(e){}if(a&&i(a,e)){var l=s.style.getPropertyValue("top"),d=s.style.getPropertyValue("bottom");if(l&&"auto"!==l||d&&"auto"!==d)return!0}}}return!1},a.needsCentering=function(e){return!("absolute"!==window.getComputedStyle(e).position||"auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom||a.isInlinePositionSetByStylesheet(e))},a.forceRegisterDialog=function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new r(e)},a.registerDialog=function(e){e.showModal||a.forceRegisterDialog(e)},a.DialogManager=function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var o=[];t.forEach(function(e){for(var t=0,i;i=e.removedNodes[t];++t)i instanceof Element&&("dialog"===i.localName&&o.push(i),o=o.concat(i.querySelectorAll("dialog")))}),o.length&&e(o)}))},a.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},a.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},a.DialogManager.prototype.updateStacking=function(){for(var e=this.zIndexHigh_,t=0,o;o=this.pendingDialogStack[t];++t)o.updateZIndex(--e,--e),0===t&&(this.overlay.style.zIndex=--e);var i=this.pendingDialogStack[0];if(i){(i.dialog.parentNode||document.body).appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},a.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=t(e);){for(var o=0,i;i=this.pendingDialogStack[o];++o)if(i.dialog===e)return 0===o;e=e.parentElement}return!1},a.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),o(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},a.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new s("cancel",{bubbles:!1,cancelable:!0}),o=this.pendingDialogStack[0];o&&o.dialog.dispatchEvent(t)&&o.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},a.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},a.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},a.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},a.dm=new a.DialogManager,a.formSubmitter=null,a.useValue=null,void 0===window.HTMLDialogElement){var l=function e(){if(!n(this))return g.call(this);var o=t(this);o&&o.close()},d=document.createElement("form");if(d.setAttribute("method","dialog"),"dialog"!==d.method){var c=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(c){var u=c.get;c.get=function(){return n(this)?"dialog":u.call(this)};var h=c.set;c.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):h.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",c)}}document.addEventListener("click",function(e){if(a.formSubmitter=null,a.useValue=null,!e.defaultPrevented){var o=e.target;if(o&&n(o.form)){if(!("submit"===o.type&&["button","input"].indexOf(o.localName)>-1)){if("input"!==o.localName||"image"!==o.type)return;a.useValue=e.offsetX+","+e.offsetY}t(o)&&(a.formSubmitter=o)}}},!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=l,document.addEventListener("submit",function(e){var o=e.target;if(n(o)){e.preventDefault();var i=t(o);if(i){var r=a.formSubmitter;r&&r.form===o?i.close(a.useValue||r.value):i.close(),a.formSubmitter=null}}},!0)}a.forceRegisterDialog=a.forceRegisterDialog,a.registerDialog=a.registerDialog,"function"==typeof define&&"amd"in define?define(function(){return a}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=a:window.dialogPolyfill=a}(),jQuery(document).ready(function(){document.querySelectorAll("dialog").forEach(function(e){dialogPolyfill.registerDialog(e)}),jQuery(".m-fileList.--preload").addClass("--is-collapsed").slideToggle(0).removeClass("--preload"),jQuery(".a-browserDescription__body").slideToggle(0).removeClass("--preload"),navigator.userAgent.includes("MSIE")&&jQuery("#milo-sidebar-ie").removeClass("--hidden"),jQuery(".o-browserLogin__link").click(function(){document.getElementById("milo-login-modal").showModal()}),jQuery(".a-loginModal__close").click(function(){document.getElementById("milo-login-modal").close()}),jQuery(".a-fileFolder").click(function(){jQuery(this).find(".a-fileFolder__icon").toggleClass("--is-hidden"),jQuery(this).siblings(".m-fileList").toggleClass("--is-clicked").slideToggle()}),jQuery(".a-browserItem").hover(function(){jQuery(this).children(".a-browserItem__icon").addClass("--is-hovered"),jQuery(this).children(".a-browserItem__text").addClass("--is-hovered"),jQuery(this).children(".a-browserItem__text").children(".a-browserItem__text--title").addClass("--is-hovered"),jQuery(this).siblings(".a-browserButton").children(".a-browserButton__link").addClass("--is-hovered")},function(){jQuery(this).children(".a-browserItem__icon").removeClass("--is-hovered"),jQuery(this).children(".a-browserItem__text").removeClass("--is-hovered"),jQuery(this).children(".a-browserItem__text").children(".a-browserItem__text--title").removeClass("--is-hovered"),jQuery(this).siblings(".a-browserButton").children(".a-browserButton__link").removeClass("--is-hovered")}),jQuery(".a-browserButton").hover(function(){jQuery(this).children(".a-browserButton__link").addClass("--is-hovered"),jQuery(this).siblings(".a-browserItem").addClass("--is-hovered"),jQuery(this).siblings(".a-browserItem").children(".a-browserItem__icon").addClass("--is-hovered"),jQuery(this).siblings(".a-browserItem").children(".a-browserItem__text").addClass("--is-hovered"),jQuery(this).siblings(".a-browserItem").children(".a-browserItem__text").children(".a-browserItem__text--title").addClass("--is-hovered")},function(){jQuery(this).children(".a-browserButton__link").removeClass("--is-hovered"),jQuery(this).siblings(".a-browserItem").removeClass("--is-hovered"),jQuery(this).siblings(".a-browserItem").children(".a-browserItem__icon").removeClass("--is-hovered"),jQuery(this).siblings(".a-browserItem").children(".a-browserItem__text").removeClass("--is-hovered"),jQuery(this).siblings(".a-browserItem").children(".a-browserItem__text").children(".a-browserItem__text--title").removeClass("--is-hovered")}),jQuery(".a-browserDescription__toggle").click(function(){jQuery(this).toggleClass("--is-toggled"),jQuery(this).siblings(".a-browserDescription__body").slideToggle()}),jQuery(".a-browserDescription__title").click(function(){jQuery(this).siblings(".a-browserDescription__toggle").toggleClass("--is-toggled"),jQuery(this).siblings(".a-browserDescription__body").slideToggle()}),jQuery(".m-browserForm__checkbox").click(function(){jQuery(this).is(":checked")?jQuery(this).siblings(".m-browserForm__button").removeClass("--inactive"):jQuery(this).siblings(".m-browserForm__button").addClass("--inactive")})});
//# sourceMappingURL=./main.min.js.map